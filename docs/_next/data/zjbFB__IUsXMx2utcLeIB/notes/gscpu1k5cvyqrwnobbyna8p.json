{"pageProps":{"note":{"id":"gscpu1k5cvyqrwnobbyna8p","title":"1 Idiomatic","desc":"","updated":1646861911437,"created":1646861873332,"custom":{},"fname":"handbook.golang.1-idiomatic","type":"note","vault":{"fsPath":"vault"},"contentHash":"c416199aeebad95278e2fec8daf64fc4","links":[{"type":"wiki","from":{"fname":"handbook.golang.1-idiomatic","id":"gscpu1k5cvyqrwnobbyna8p","vaultName":"vault"},"value":"tags.go","alias":"#go","position":{"start":{"line":2,"column":1,"offset":1},"end":{"line":2,"column":4,"offset":4},"indent":[]},"xvault":false,"to":{"fname":"tags.go"}}],"anchors":{"gunakan-gofmt":{"type":"header","text":"Gunakan gofmt","value":"gunakan-gofmt","line":10,"column":0,"depth":3},"vscode":{"type":"header","text":"VSCode","value":"vscode","line":15,"column":0,"depth":4},"vim":{"type":"header","text":"Vim","value":"vim","line":20,"column":0,"depth":4},"buat-nama-receiver-tetap-pendek":{"type":"header","text":"Buat nama receiver tetap pendek","value":"buat-nama-receiver-tetap-pendek","line":25,"column":0,"depth":3},"memberikan-nama-package-yang-sesuai":{"type":"header","text":"Memberikan nama package yang sesuai","value":"memberikan-nama-package-yang-sesuai","line":44,"column":0,"depth":3},"kelompokan-import-sesuai-asalnya":{"type":"header","text":"Kelompokan import sesuai asalnya","value":"kelompokan-import-sesuai-asalnya","line":60,"column":0,"depth":3},"gunakan-nama-pendek-untuk-scope-yang-terbatas":{"type":"header","text":"Gunakan nama pendek untuk scope yang terbatas","value":"gunakan-nama-pendek-untuk-scope-yang-terbatas","line":77,"column":0,"depth":3},"context-harus-menjadi-parameter-pertama":{"type":"header","text":"Context harus menjadi parameter pertama","value":"context-harus-menjadi-parameter-pertama","line":88,"column":0,"depth":3},"return-diawal":{"type":"header","text":"Return diawal","value":"return-diawal","line":112,"column":0,"depth":3}},"children":[],"parent":"3e9942id79hw89ncudt79ok","data":{}},"body":"<h1 id=\"1-idiomatic\">1 Idiomatic<a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#1-idiomatic\"></a></h1>\n<p><a class=\"color-tag\" style=\"--tag-color: #a8a495;\" href=\"/sotoy/notes/1l18nvi2v8de3tka75ibojn\">#go</a></p>\n<h3 id=\"gunakan-gofmt\">Gunakan gofmt<a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#gunakan-gofmt\"></a></h3>\n<p><a href=\"https://pkg.go.dev/cmd/gofmt\">gofmt</a> adalah program untuk formating digolang.\nPastikan selalu ada disetiap code editor yang digunakan.</p>\n<h4 id=\"vscode\">VSCode<a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#vscode\"></a></h4>\n<p>Link: </p>\n<ul>\n<li><a href=\"https://code.visualstudio.com/docs/languages/go\">https://code.visualstudio.com/docs/languages/go</a></li>\n</ul>\n<h4 id=\"vim\">Vim<a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#vim\"></a></h4>\n<p>Link:</p>\n<ul>\n<li><a href=\"https://github.com/fatih/vim-go/\">https://github.com/fatih/vim-go/</a></li>\n</ul>\n<h3 id=\"buat-nama-receiver-tetap-pendek\">Buat nama receiver tetap pendek<a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#buat-nama-receiver-tetap-pendek\"></a></h3>\n<pre class=\"language-go\"><code class=\"language-go\"><span class=\"token keyword\">type</span> User <span class=\"token keyword\">struct</span> <span class=\"token punctuation\">{</span>\n\tName <span class=\"token builtin\">string</span>\n\tIsActive <span class=\"token builtin\">bool</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// gunakan</span>\n<span class=\"token keyword\">func</span> <span class=\"token punctuation\">(</span>u User<span class=\"token punctuation\">)</span> <span class=\"token function\">Activated</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// jangan gunakan</span>\n<span class=\"token keyword\">func</span> <span class=\"token punctuation\">(</span>user User<span class=\"token punctuation\">)</span> <span class=\"token function\">Activated</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">func</span> <span class=\"token punctuation\">(</span>self User<span class=\"token punctuation\">)</span> <span class=\"token function\">Activated</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">func</span> <span class=\"token punctuation\">(</span>this User<span class=\"token punctuation\">)</span> <span class=\"token function\">Activated</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n</code></pre>\n<p>Aktifkan <a href=\"https://github.com/golangci/golangci-lint\">golangci-lint</a> dengan <a href=\"https://revive.run/docs\">revive</a> untuk dapat pengecekan <a href=\"https://revive.run/r#receiver-naming\">receiver-naming</a>.</p>\n<h3 id=\"memberikan-nama-package-yang-sesuai\">Memberikan nama package yang sesuai<a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#memberikan-nama-package-yang-sesuai\"></a></h3>\n<p>Penamaan package sebaiknya sesuai dengan nama directory atau fungsi dari package tersebut.</p>\n<ul>\n<li>Fungsi: Implementasi elasticsearch ,Dir: /elasticsearch</li>\n</ul>\n<pre class=\"language-go\"><code class=\"language-go\"><span class=\"token keyword\">package</span> elasticsearch\n</code></pre>\n<ul>\n<li>Fungsi: Membuat order pesanan, Dir; /order</li>\n</ul>\n<pre class=\"language-go\"><code class=\"language-go\"><span class=\"token keyword\">package</span> order\n</code></pre>\n<h3 id=\"kelompokan-import-sesuai-asalnya\">Kelompokan import sesuai asalnya<a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#kelompokan-import-sesuai-asalnya\"></a></h3>\n<p>Ada tiga bagian pada setiap import dan urutkan sesuai dengan asalnya, jangan urutkan sesuai abjad. Contoh</p>\n<pre class=\"language-go\"><code class=\"language-go\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">(</span>\n\t<span class=\"token comment\">// 1. Untuk standard library</span>\n\t<span class=\"token string\">\"context\"</span>\n\n\t<span class=\"token comment\">// 2. Untuk external dependency yang digunakan</span>\n\t<span class=\"token string\">\"go.opentelemetry.io/otel\"</span>\n\n\t<span class=\"token comment\">// 3. Untuk internal code yang kita atau tim kita tulis sendiri</span>\n\t<span class=\"token string\">\"github.com/zeihanaulia/my-project/internal\"</span>\n<span class=\"token punctuation\">)</span>\n</code></pre>\n<h3 id=\"gunakan-nama-pendek-untuk-scope-yang-terbatas\">Gunakan nama pendek untuk scope yang terbatas<a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#gunakan-nama-pendek-untuk-scope-yang-terbatas\"></a></h3>\n<p>Nama pendek seperti 1 karakter huruf hanya boleh digunakan pada scope terbatas.\nMisalnya seperti pada function for.</p>\n<pre class=\"language-go\"><code class=\"language-go\"><span class=\"token keyword\">for</span> i<span class=\"token operator\">:=</span><span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i<span class=\"token operator\">&#x3C;</span><span class=\"token number\">5</span><span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n</code></pre>\n<p>sisanya berikan nama yang jelas sesuai maknanya.</p>\n<h3 id=\"context-harus-menjadi-parameter-pertama\">Context harus menjadi parameter pertama<a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#context-harus-menjadi-parameter-pertama\"></a></h3>\n<p>Ada aturan pada penggunaan context:</p>\n<ol>\n<li>\n<p>Gunakan context sebagai parameter pertama pada function</p>\n<pre class=\"language-go\"><code class=\"language-go\"><span class=\"token comment\">// Boleh</span>\n<span class=\"token keyword\">func</span> <span class=\"token function\">Create</span><span class=\"token punctuation\">(</span>ctx context<span class=\"token punctuation\">.</span>Context<span class=\"token punctuation\">,</span> args entity<span class=\"token punctuation\">.</span>Order<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// Tidak boleh</span>\n<span class=\"token keyword\">func</span> <span class=\"token function\">Create</span><span class=\"token punctuation\">(</span>args entity<span class=\"token punctuation\">.</span>Order<span class=\"token punctuation\">,</span> ctx context<span class=\"token punctuation\">.</span>Context<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n</code></pre>\n</li>\n<li>\n<p>Jangan simpan context sebagai field dalam struct </p>\n<pre class=\"language-go\"><code class=\"language-go\"><span class=\"token comment\">// Tidak boleh</span>\n<span class=\"token keyword\">type</span> User <span class=\"token keyword\">struct</span> <span class=\"token punctuation\">{</span>\n\tctx context<span class=\"token punctuation\">.</span>Context\n\tName <span class=\"token builtin\">string</span>\n<span class=\"token punctuation\">}</span>\n</code></pre>\n</li>\n</ol>\n<h3 id=\"return-diawal\">Return diawal<a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#return-diawal\"></a></h3>\n<p>Dalam setiap function yang mengembalikan nilai seharusnya return diawal.</p>\n<pre class=\"language-go\"><code class=\"language-go\"><span class=\"token comment\">// Tidak boleh dilakukan</span>\n<span class=\"token keyword\">func</span> <span class=\"token function\">ParseValue</span><span class=\"token punctuation\">(</span>value Value<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">(</span><span class=\"token builtin\">string</span><span class=\"token punctuation\">,</span> <span class=\"token builtin\">error</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\t<span class=\"token keyword\">if</span> <span class=\"token operator\">!</span>value<span class=\"token punctuation\">.</span>MustBeTrue <span class=\"token punctuation\">{</span>\n\t\t<span class=\"token keyword\">return</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span> fmt<span class=\"token punctuation\">.</span><span class=\"token function\">Errorf</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"must be true\"</span><span class=\"token punctuation\">)</span>\n\t<span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n\t\t<span class=\"token keyword\">if</span> value<span class=\"token punctuation\">.</span>Message <span class=\"token operator\">==</span> <span class=\"token string\">\"\"</span> <span class=\"token punctuation\">{</span>\n\t\t\t<span class=\"token keyword\">return</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span> fmt<span class=\"token punctuation\">.</span><span class=\"token function\">Errorf</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"value must be set\"</span><span class=\"token punctuation\">)</span>\n\t\t<span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n\t\t\t<span class=\"token keyword\">if</span> value<span class=\"token punctuation\">.</span>Priority <span class=\"token operator\">==</span> <span class=\"token number\">0</span> <span class=\"token punctuation\">{</span>\n\t\t\t\t<span class=\"token keyword\">return</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span> fmt<span class=\"token punctuation\">.</span><span class=\"token function\">Errorf</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"priority must be set\"</span><span class=\"token punctuation\">)</span>\n\t\t\t<span class=\"token punctuation\">}</span>\n\n\t\t\t<span class=\"token keyword\">return</span> fmt<span class=\"token punctuation\">.</span><span class=\"token function\">Sprintf</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"%d %s\"</span><span class=\"token punctuation\">,</span> value<span class=\"token punctuation\">.</span>Priority<span class=\"token punctuation\">,</span> value<span class=\"token punctuation\">.</span>Message<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">nil</span>\n\t\t<span class=\"token punctuation\">}</span>\n\t<span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n</code></pre>\n<p>Meskipun code diatas berjalan dengan benar, tapi secara bentuk tidak boleh dilakukan.\nSebaiknya seperti ini.</p>\n<pre class=\"language-go\"><code class=\"language-go\"><span class=\"token comment\">// Tidak boleh dilakukan</span>\n<span class=\"token keyword\">func</span> <span class=\"token function\">ParseValue</span><span class=\"token punctuation\">(</span>value Value<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">(</span><span class=\"token builtin\">string</span><span class=\"token punctuation\">,</span> <span class=\"token builtin\">error</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\t<span class=\"token keyword\">if</span> <span class=\"token operator\">!</span>value<span class=\"token punctuation\">.</span>MustBeTrue <span class=\"token punctuation\">{</span>\n\t\t<span class=\"token keyword\">return</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span> fmt<span class=\"token punctuation\">.</span><span class=\"token function\">Errorf</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"must be true\"</span><span class=\"token punctuation\">)</span>\n\t<span class=\"token punctuation\">}</span> \n\n\t<span class=\"token keyword\">if</span> value<span class=\"token punctuation\">.</span>Message <span class=\"token operator\">==</span> <span class=\"token string\">\"\"</span> <span class=\"token punctuation\">{</span>\n\t\t<span class=\"token keyword\">return</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span> fmt<span class=\"token punctuation\">.</span><span class=\"token function\">Errorf</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"value must be set\"</span><span class=\"token punctuation\">)</span>\n\t<span class=\"token punctuation\">}</span> \n\n\t<span class=\"token keyword\">if</span> value<span class=\"token punctuation\">.</span>Priority <span class=\"token operator\">==</span> <span class=\"token number\">0</span> <span class=\"token punctuation\">{</span>\n\t\t<span class=\"token keyword\">return</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span> fmt<span class=\"token punctuation\">.</span><span class=\"token function\">Errorf</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"priority must be set\"</span><span class=\"token punctuation\">)</span>\n\t<span class=\"token punctuation\">}</span>\n\n\t<span class=\"token keyword\">return</span> fmt<span class=\"token punctuation\">.</span><span class=\"token function\">Sprintf</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"%d %s\"</span><span class=\"token punctuation\">,</span> value<span class=\"token punctuation\">.</span>Priority<span class=\"token punctuation\">,</span> value<span class=\"token punctuation\">.</span>Message<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">nil</span>\n<span class=\"token punctuation\">}</span>\n</code></pre>","noteIndex":{"id":"oqxmejlafk9x8rj9t5hya5z","title":"Root","desc":"","updated":1646842475821,"created":1646842475821,"custom":{"nav_order":0,"permalink":"/"},"fname":"root","type":"note","vault":{"fsPath":"vault"},"contentHash":"07f18305ffd998624eafbf443e02f3c2","links":[],"anchors":{"welcome-to-dendron":{"type":"header","text":"Welcome to Dendron","value":"welcome-to-dendron","line":7,"column":0,"depth":1},"lookup":{"type":"header","text":"Lookup","value":"lookup","line":11,"column":0,"depth":2}},"children":["spfwom01chbihki1twghclf","bsv930j2j6qlih60c7eu7wh","ohf85tu5nw2b8ewx6cetsmp","u3lhhpriar8wgcjw8svapha","aecilpcu1r34pyssvz4irzy","tvdcga33h6hi7fxd9cwqd66","ugk2ov2xb97m8o44u1b9iu1","t58wEmhAtf1GlHmO","91eqybfohputr1iaxqbsbfe","x1aw4xgjnlqqzeww7dkz75g","78yyzb5l8ey7dvp4c08vyu7","lav66a9h50vq4ntzjyhx4y7","y4idqlpbg8tophfjvwd3b2q","3xecfpxxtvzgorwrmbt3cqz"],"parent":null,"data":{},"body":"# Welcome to Dendron\n\nThis is the root of your dendron vault. If you decide to publish your entire vault, this will be your landing page. You are free to customize any part of this page except the frontmatter on top.\n\n## Lookup\n\nThis section contains useful links to related resources.\n\n- [Getting Started Guide](https://link.dendron.so/6b25)\n- [Discord](https://link.dendron.so/6b23)\n- [Home Page](https://wiki.dendron.so/)\n- [Github](https://link.dendron.so/6b24)\n- [Developer Docs](https://docs.dendron.so/)\n"},"collectionChildren":null,"customHeadContent":null,"config":{"version":5,"dev":{"enablePreviewV2":true},"commands":{"lookup":{"note":{"selectionMode":"extract","confirmVaultOnCreate":true,"vaultSelectionModeOnCreate":"smart","leaveTrace":false,"bubbleUpCreateNew":true,"fuzzThreshold":0.2}},"randomNote":{},"insertNoteLink":{"aliasMode":"none","enableMultiSelect":false},"insertNoteIndex":{"enableMarker":false},"copyNoteLink":{"aliasMode":"title"},"templateHierarchy":"template"},"workspace":{"dendronVersion":"0.83.0","vaults":[{"fsPath":"vault"},{"fsPath":"templates","seed":"dendron.templates","name":"dendron.templates"},{"fsPath":"vault2","name":"vault-private","sync":"sync","visibility":"private","remote":{"type":"git","url":"git@github.com:zeihanaulia/journal.git"}}],"journal":{"dailyDomain":"daily","name":"journal","dateFormat":"y.MM.dd","addBehavior":"childOfDomain"},"scratch":{"name":"scratch","dateFormat":"y.MM.dd.HHmmss","addBehavior":"asOwnDomain"},"task":{"name":"","dateFormat":"","addBehavior":"childOfCurrent","statusSymbols":{"":" ","wip":"w","done":"x","assigned":"a","moved":"m","blocked":"b","delegated":"l","dropped":"d","pending":"y"},"prioritySymbols":{"H":"high","M":"medium","L":"low"},"todoIntegration":false,"createTaskSelectionType":"selection2link","taskCompleteStatus":["done","x"]},"graph":{"zoomSpeed":1,"createStub":false},"enableAutoCreateOnDefinition":false,"enableXVaultWikiLink":false,"enableRemoteVaultInit":true,"enableUserTags":true,"enableHashTags":true,"workspaceVaultSyncMode":"noCommit","enableAutoFoldFrontmatter":false,"enableEditorDecorations":true,"maxPreviewsCached":10,"maxNoteLength":204800,"seeds":{"dendron.templates":{}},"enableFullHierarchyNoteTitle":false},"preview":{"enableFMTitle":true,"enableNoteTitleForLink":true,"enableFrontmatterTags":true,"enableHashesForFMTags":false,"enablePrettyRefs":true,"enableKatex":true,"automaticallyShowPreview":false},"publishing":{"enableFMTitle":true,"enableNoteTitleForLink":true,"enablePrettyRefs":true,"enableKatex":true,"copyAssets":true,"siteHierarchies":["root"],"writeStubs":true,"siteRootDir":"docs","seo":{"title":"Dendron","description":"Personal knowledge space"},"github":{"enableEditLink":true,"editLinkText":"Edit this page on GitHub","editBranch":"main","editViewMode":"tree"},"enableSiteLastModified":true,"enableFrontmatterTags":true,"enableHashesForFMTags":false,"enableRandomlyColoredTags":true,"enableTaskNotes":true,"enablePrettyLinks":true,"searchMode":"lookup","assetsPrefix":"/sotoy","siteUrl":"https://zeihanaulia.github.io","duplicateNoteBehavior":{"action":"useVault","payload":["vault-private","vault","dendron.templates"]},"siteFaviconPath":"favicon.ico","siteIndex":"root"}}},"__N_SSG":true}