<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><link rel="icon" href="/sotoy/favicon.ico"/><title>Notes: Resolving Connection Issues from WSL to Windows</title><meta name="robots" content="index,follow"/><meta name="googlebot" content="index,follow"/><meta name="description" content="Personal knowledge space about anything I learn. Notes, knowledge, and ideas from me."/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:site" content="zeihanaulia"/><meta name="twitter:creator" content="zeihanaulia"/><meta property="og:title" content="Notes: Resolving Connection Issues from WSL to Windows"/><meta property="og:description" content="Personal knowledge space about anything I learn. Notes, knowledge, and ideas from me."/><meta property="og:url" content="https://zeihanaulia.github.io/sotoy/notes/w4ptpcefqr98mej5hjhs3m9/"/><meta property="og:type" content="article"/><meta property="article:published_time" content="11/22/2024"/><meta property="article:modified_time" content="11/22/2024"/><meta property="article:tag" content="wsl2"/><meta property="og:image" content="https://pbs.twimg.com/profile_images/502375255256485888/1UYtt7PT_400x400.jpeg"/><meta property="og:image:alt" content="Software Engineer, "/><link rel="canonical" href="https://zeihanaulia.github.io/sotoy/notes/w4ptpcefqr98mej5hjhs3m9/"/><meta name="next-head-count" content="20"/><link rel="preload" href="/sotoy/_next/static/css/41067a1ca86a1f32.css" as="style"/><link rel="stylesheet" href="/sotoy/_next/static/css/41067a1ca86a1f32.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/sotoy/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/sotoy/_next/static/chunks/webpack-3978769f38772f6c.js" defer=""></script><script src="/sotoy/_next/static/chunks/framework-28c999baf2863c3d.js" defer=""></script><script src="/sotoy/_next/static/chunks/main-5b62020850a4108f.js" defer=""></script><script src="/sotoy/_next/static/chunks/pages/_app-38d6e24c790d891f.js" defer=""></script><script src="/sotoy/_next/static/chunks/935-4dee79e80b8641c6.js" defer=""></script><script src="/sotoy/_next/static/chunks/6-50972def09142ee2.js" defer=""></script><script src="/sotoy/_next/static/chunks/pages/notes/%5Bid%5D-78d472fa3b924116.js" defer=""></script><script src="/sotoy/_next/static/syq9_1iDT-nYVNf2f1cTG/_buildManifest.js" defer=""></script><script src="/sotoy/_next/static/syq9_1iDT-nYVNf2f1cTG/_ssgManifest.js" defer=""></script></head><body><div id="__next" data-reactroot=""><section class="ant-layout" style="width:100%;min-height:100%"><header class="ant-layout-header" style="position:fixed;isolation:isolate;z-index:1;width:100%;border-bottom:1px solid #d4dadf;height:64px;padding:0 24px 0 2px"><div class="ant-row ant-row-center" style="max-width:992px;justify-content:space-between;margin:0 auto"><div style="display:flex" class="ant-col ant-col-xs-20 ant-col-sm-4"></div><div class="ant-col gutter-row ant-col-xs-0 ant-col-sm-20 ant-col-md-20 ant-col-lg-19"><div class="ant-select ant-select-lg ant-select-auto-complete ant-select-single ant-select-allow-clear ant-select-show-search" style="width:100%"><div class="ant-select-selector"><span class="ant-select-selection-search"><input type="search" autoComplete="off" class="ant-select-selection-search-input" role="combobox" aria-haspopup="listbox" aria-owns="undefined_list" aria-autocomplete="list" aria-controls="undefined_list" aria-activedescendant="undefined_list_0" value=""/></span><span class="ant-select-selection-placeholder">For full text search please use the &#x27;?&#x27; prefix. e.g. ? Onboarding</span></div></div></div><div style="display:none;align-items:center;justify-content:center" class="ant-col ant-col-xs-4 ant-col-sm-4 ant-col-md-0 ant-col-lg-0"><span role="img" aria-label="menu" style="font-size:24px" tabindex="-1" class="anticon anticon-menu"><svg viewBox="64 64 896 896" focusable="false" data-icon="menu" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M904 160H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0 624H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0-312H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8z"></path></svg></span></div></div></header><section class="ant-layout" style="margin-top:64px;display:flex;flex-direction:row"><div class="site-layout-sidebar" style="flex:0 0 auto;width:calc(max((100% - 992px) / 2, 0px) + 200px);min-width:200px;padding-left:calc((100% - 992px) / 2)"><aside class="ant-layout-sider ant-layout-sider-dark" style="position:fixed;overflow:auto;height:calc(100vh - 64px);background-color:transparent;flex:0 0 200px;max-width:200px;min-width:200px;width:200px"><div class="ant-layout-sider-children"></div></aside></div><main class="ant-layout-content side-layout-main" style="max-width:1200px;min-width:0;display:block"><div style="padding:0 24px"><div class="main-content" role="main"><div class="ant-row"><div class="ant-col ant-col-24"><div class="ant-row" style="margin-left:-10px;margin-right:-10px"><div style="padding-left:10px;padding-right:10px" class="ant-col ant-col-xs-24 ant-col-md-18"><div><h1 id="notes-resolving-connection-issues-from-wsl-to-windows">Notes: Resolving Connection Issues from WSL to Windows<a aria-hidden="true" class="anchor-heading icon-link" href="#notes-resolving-connection-issues-from-wsl-to-windows"></a></h1>
<h2 id="steps-to-resolve-connection-refused-from-wsl-to-windows">Steps to Resolve "Connection Refused" from WSL to Windows<a aria-hidden="true" class="anchor-heading icon-link" href="#steps-to-resolve-connection-refused-from-wsl-to-windows"></a></h2>
<h3 id="1-check-windows-ip-address-from-wsl">1. Check Windows IP Address from WSL<a aria-hidden="true" class="anchor-heading icon-link" href="#1-check-windows-ip-address-from-wsl"></a></h3>
<p>Use the following command inside WSL to find the IP address used by Windows:</p>
<pre class="language-bash"><code class="language-bash"><span class="token function">cat</span> /etc/resolv.conf <span class="token operator">|</span> <span class="token function">grep</span> nameserver
</code></pre>
<p>The IP address shown is the Windows IP address accessible from WSL.</p>
<h3 id="2-access-service-using-windows-ip-address">2. Access Service Using Windows IP Address<a aria-hidden="true" class="anchor-heading icon-link" href="#2-access-service-using-windows-ip-address"></a></h3>
<p>Try accessing the service running on Windows from WSL using the IP address obtained earlier. Example:</p>
<pre class="language-bash"><code class="language-bash"><span class="token function">curl</span> http://10.255.255.254:1234
</code></pre>
<h3 id="3-check-firewall-settings">3. Check Firewall Settings<a aria-hidden="true" class="anchor-heading icon-link" href="#3-check-firewall-settings"></a></h3>
<p>Ensure the Windows firewall does not block connections from WSL to Windows. Temporarily disable the firewall to check if it is the cause of the issue:</p>
<ul>
<li>Open "Windows Defender Firewall with Advanced Security".</li>
<li>Temporarily disable the firewall for Domain, Private, and Public Network.</li>
</ul>
<h3 id="4-ensure-services-in-windows-listen-on-all-interfaces">4. Ensure Services in Windows Listen on All Interfaces<a aria-hidden="true" class="anchor-heading icon-link" href="#4-ensure-services-in-windows-listen-on-all-interfaces"></a></h3>
<p>Ensure the service running on Windows listens on all interfaces (<code>0.0.0.0</code>) and not just <code>127.0.0.1</code>.</p>
<h3 id="5-use-port-forwarding-with-netsh">5. Use Port Forwarding with <code>netsh</code><a aria-hidden="true" class="anchor-heading icon-link" href="#5-use-port-forwarding-with-netsh"></a></h3>
<p>Run the following command in PowerShell with Administrator rights to forward traffic from localhost to the Windows IP accessible from WSL:</p>
<pre class="language-powershell"><code class="language-powershell">netsh interface portproxy add v4tov4 listenaddress=127<span class="token punctuation">.</span>0<span class="token punctuation">.</span>0<span class="token punctuation">.</span>1 listenport=1234 connectaddress=10<span class="token punctuation">.</span>255<span class="token punctuation">.</span>255<span class="token punctuation">.</span>254 connectport=1234
</code></pre>
<h3 id="6-create-or-edit-wslconfig-file">6. Create or Edit <code>.wslconfig</code> File<a aria-hidden="true" class="anchor-heading icon-link" href="#6-create-or-edit-wslconfig-file"></a></h3>
<p>Create or edit the <code>.wslconfig</code> file in the <code>%UserProfile%</code> directory with the <code>networkingMode=mirrored</code> setting.</p>
<h4 id="powershell-script-to-createedit-wslconfig">PowerShell Script to Create/Edit <code>.wslconfig</code><a aria-hidden="true" class="anchor-heading icon-link" href="#powershell-script-to-createedit-wslconfig"></a></h4>
<pre class="language-powershell"><code class="language-powershell"><span class="token comment"># Define the path to the .wslconfig file in the User Profile directory</span>
<span class="token variable">$wslConfigPath</span> = <span class="token string">"<span class="token variable">$env</span>:UserProfile\.wslconfig"</span>

<span class="token comment"># Content to be added to the .wslconfig file</span>
<span class="token variable">$newContent</span> = <span class="token string">"networkingMode=mirrored"</span>

<span class="token comment"># Check if the .wslconfig file exists</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">Test-Path</span> <span class="token variable">$wslConfigPath</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment"># Read the content of the .wslconfig file</span>
    <span class="token variable">$content</span> = <span class="token function">Get-Content</span> <span class="token variable">$wslConfigPath</span>

    <span class="token comment"># Check if the [wsl2] section exists</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token variable">$content</span> <span class="token operator">-match</span> <span class="token string">'\[wsl2\]'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment"># If the [wsl2] section exists, add the new setting below it</span>
        <span class="token function">Add-Content</span> <span class="token operator">-</span>Path <span class="token variable">$wslConfigPath</span> <span class="token operator">-</span>Value <span class="token variable">$newContent</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token comment"># If the [wsl2] section does not exist, add the entire [wsl2] section and the new setting</span>
        <span class="token function">Add-Content</span> <span class="token operator">-</span>Path <span class="token variable">$wslConfigPath</span> <span class="token operator">-</span>Value <span class="token string">"[wsl2]`n<span class="token variable">$newContent</span>"</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token comment"># If the file does not exist, create a new file with the entire [wsl2] section and the setting</span>
    <span class="token function">Set-Content</span> <span class="token operator">-</span>Path <span class="token variable">$wslConfigPath</span> <span class="token operator">-</span>Value <span class="token string">"[wsl2]`n<span class="token variable">$newContent</span>"</span>
<span class="token punctuation">}</span>

<span class="token function">Write-Output</span> <span class="token string">"Setting has been added to <span class="token variable">$wslConfigPath</span>:"</span>
<span class="token function">Get-Content</span> <span class="token variable">$wslConfigPath</span>
</code></pre>
<h3 id="7-restart-services-in-windows-and-wsl">7. Restart Services in Windows and WSL<a aria-hidden="true" class="anchor-heading icon-link" href="#7-restart-services-in-windows-and-wsl"></a></h3>
<p>Restart the services running in Windows and the WSL distribution:</p>
<pre class="language-powershell"><code class="language-powershell">wsl <span class="token operator">--</span>shutdown
wsl
</code></pre>
<h3 id="8-use-localhost-in-wsl">8. Use <code>localhost</code> in WSL<a aria-hidden="true" class="anchor-heading icon-link" href="#8-use-localhost-in-wsl"></a></h3>
<p>Try accessing <code>localhost</code> directly from WSL:</p>
<pre class="language-bash"><code class="language-bash"><span class="token function">curl</span> http://localhost:1234
</code></pre>
<p>By following these steps, you should be able to resolve the connection issue from WSL to Windows and get the desired response.</p>
<p>I hope these notes are helpful! If you have any further questions or need additional assistance, feel free to ask.</p>
<hr>
<h2 id="tags">Tags<a aria-hidden="true" class="anchor-heading icon-link" href="#tags"></a></h2>
<ol>
<li><a class="color-tag" style="--tag-color: #ba6873;" href="/sotoy/notes/dkqx8ibgpx6udhieo5qvqot">wsl2</a></li>
</ol></div></div><div style="padding-left:10px;padding-right:10px" class="ant-col ant-col-xs-0 ant-col-md-6"><div><div class=""><div class="ant-anchor-wrapper dendron-toc" style="max-height:calc(100vh - 64px);z-index:1"><div class="ant-anchor"><div class="ant-anchor-ink"><span class="ant-anchor-ink-ball"></span></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#steps-to-resolve-connection-refused-from-wsl-to-windows" title="Steps to Resolve &quot;Connection Refused&quot; from WSL to Windows">Steps to Resolve &quot;Connection Refused&quot; from WSL to Windows</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#1-check-windows-ip-address-from-wsl" title="1. Check Windows IP Address from WSL">1. Check Windows IP Address from WSL</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#2-access-service-using-windows-ip-address" title="2. Access Service Using Windows IP Address">2. Access Service Using Windows IP Address</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#3-check-firewall-settings" title="3. Check Firewall Settings">3. Check Firewall Settings</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#4-ensure-services-in-windows-listen-on-all-interfaces" title="4. Ensure Services in Windows Listen on All Interfaces">4. Ensure Services in Windows Listen on All Interfaces</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#5-use-port-forwarding-with-netsh" title="5. Use Port Forwarding with netsh">5. Use Port Forwarding with netsh</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#6-create-or-edit-wslconfig-file" title="6. Create or Edit .wslconfig File">6. Create or Edit .wslconfig File</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#powershell-script-to-createedit-wslconfig" title="PowerShell Script to Create/Edit .wslconfig">PowerShell Script to Create/Edit .wslconfig</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#7-restart-services-in-windows-and-wsl" title="7. Restart Services in Windows and WSL">7. Restart Services in Windows and WSL</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#8-use-localhost-in-wsl" title="8. Use localhost in WSL">8. Use localhost in WSL</a></div></div></div></div></div></div></div></div></div></div></div><div class="ant-divider ant-divider-horizontal" role="separator"></div><footer class="ant-layout-footer" style="padding:0 24px 24px"></footer></main></section></section></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"note":{"id":"w4ptpcefqr98mej5hjhs3m9","title":"Notes: Resolving Connection Issues from WSL to Windows","desc":"","updated":1732271159615,"created":1732271049414,"tags":["wsl2"],"custom":{},"fname":"til.resolving-connection-issues-from-wsl-to-windows","type":"note","vault":{"fsPath":"vault"},"contentHash":"1fba4a2b128df9d4640c191768954e5f","links":[{"type":"frontmatterTag","from":{"fname":"til.resolving-connection-issues-from-wsl-to-windows","id":"w4ptpcefqr98mej5hjhs3m9","vaultName":"vault"},"value":"tags.wsl2","alias":"wsl2","xvault":false,"to":{"fname":"tags.wsl2"}}],"anchors":{"steps-to-resolve-connection-refused-from-wsl-to-windows":{"type":"header","text":"Steps to Resolve \"Connection Refused\" from WSL to Windows","value":"steps-to-resolve-connection-refused-from-wsl-to-windows","line":10,"column":0,"depth":2},"1-check-windows-ip-address-from-wsl":{"type":"header","text":"1. Check Windows IP Address from WSL","value":"1-check-windows-ip-address-from-wsl","line":12,"column":0,"depth":3},"2-access-service-using-windows-ip-address":{"type":"header","text":"2. Access Service Using Windows IP Address","value":"2-access-service-using-windows-ip-address","line":19,"column":0,"depth":3},"3-check-firewall-settings":{"type":"header","text":"3. Check Firewall Settings","value":"3-check-firewall-settings","line":25,"column":0,"depth":3},"4-ensure-services-in-windows-listen-on-all-interfaces":{"type":"header","text":"4. Ensure Services in Windows Listen on All Interfaces","value":"4-ensure-services-in-windows-listen-on-all-interfaces","line":30,"column":0,"depth":3},"5-use-port-forwarding-with-netsh":{"type":"header","text":"5. Use Port Forwarding with netsh","value":"5-use-port-forwarding-with-netsh","line":33,"column":0,"depth":3},"6-create-or-edit-wslconfig-file":{"type":"header","text":"6. Create or Edit .wslconfig File","value":"6-create-or-edit-wslconfig-file","line":39,"column":0,"depth":3},"powershell-script-to-createedit-wslconfig":{"type":"header","text":"PowerShell Script to Create/Edit .wslconfig","value":"powershell-script-to-createedit-wslconfig","line":42,"column":0,"depth":4},"7-restart-services-in-windows-and-wsl":{"type":"header","text":"7. Restart Services in Windows and WSL","value":"7-restart-services-in-windows-and-wsl","line":72,"column":0,"depth":3},"8-use-localhost-in-wsl":{"type":"header","text":"8. Use localhost in WSL","value":"8-use-localhost-in-wsl","line":79,"column":0,"depth":3}},"children":[],"parent":"tvdcga33h6hi7fxd9cwqd66","data":{}},"body":"\u003ch1 id=\"notes-resolving-connection-issues-from-wsl-to-windows\"\u003eNotes: Resolving Connection Issues from WSL to Windows\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#notes-resolving-connection-issues-from-wsl-to-windows\"\u003e\u003c/a\u003e\u003c/h1\u003e\n\u003ch2 id=\"steps-to-resolve-connection-refused-from-wsl-to-windows\"\u003eSteps to Resolve \"Connection Refused\" from WSL to Windows\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#steps-to-resolve-connection-refused-from-wsl-to-windows\"\u003e\u003c/a\u003e\u003c/h2\u003e\n\u003ch3 id=\"1-check-windows-ip-address-from-wsl\"\u003e1. Check Windows IP Address from WSL\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#1-check-windows-ip-address-from-wsl\"\u003e\u003c/a\u003e\u003c/h3\u003e\n\u003cp\u003eUse the following command inside WSL to find the IP address used by Windows:\u003c/p\u003e\n\u003cpre class=\"language-bash\"\u003e\u003ccode class=\"language-bash\"\u003e\u003cspan class=\"token function\"\u003ecat\u003c/span\u003e /etc/resolv.conf \u003cspan class=\"token operator\"\u003e|\u003c/span\u003e \u003cspan class=\"token function\"\u003egrep\u003c/span\u003e nameserver\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eThe IP address shown is the Windows IP address accessible from WSL.\u003c/p\u003e\n\u003ch3 id=\"2-access-service-using-windows-ip-address\"\u003e2. Access Service Using Windows IP Address\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#2-access-service-using-windows-ip-address\"\u003e\u003c/a\u003e\u003c/h3\u003e\n\u003cp\u003eTry accessing the service running on Windows from WSL using the IP address obtained earlier. Example:\u003c/p\u003e\n\u003cpre class=\"language-bash\"\u003e\u003ccode class=\"language-bash\"\u003e\u003cspan class=\"token function\"\u003ecurl\u003c/span\u003e http://10.255.255.254:1234\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch3 id=\"3-check-firewall-settings\"\u003e3. Check Firewall Settings\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#3-check-firewall-settings\"\u003e\u003c/a\u003e\u003c/h3\u003e\n\u003cp\u003eEnsure the Windows firewall does not block connections from WSL to Windows. Temporarily disable the firewall to check if it is the cause of the issue:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eOpen \"Windows Defender Firewall with Advanced Security\".\u003c/li\u003e\n\u003cli\u003eTemporarily disable the firewall for Domain, Private, and Public Network.\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 id=\"4-ensure-services-in-windows-listen-on-all-interfaces\"\u003e4. Ensure Services in Windows Listen on All Interfaces\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#4-ensure-services-in-windows-listen-on-all-interfaces\"\u003e\u003c/a\u003e\u003c/h3\u003e\n\u003cp\u003eEnsure the service running on Windows listens on all interfaces (\u003ccode\u003e0.0.0.0\u003c/code\u003e) and not just \u003ccode\u003e127.0.0.1\u003c/code\u003e.\u003c/p\u003e\n\u003ch3 id=\"5-use-port-forwarding-with-netsh\"\u003e5. Use Port Forwarding with \u003ccode\u003enetsh\u003c/code\u003e\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#5-use-port-forwarding-with-netsh\"\u003e\u003c/a\u003e\u003c/h3\u003e\n\u003cp\u003eRun the following command in PowerShell with Administrator rights to forward traffic from localhost to the Windows IP accessible from WSL:\u003c/p\u003e\n\u003cpre class=\"language-powershell\"\u003e\u003ccode class=\"language-powershell\"\u003enetsh interface portproxy add v4tov4 listenaddress=127\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e0\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e0\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e1 listenport=1234 connectaddress=10\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e255\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e255\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e254 connectport=1234\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch3 id=\"6-create-or-edit-wslconfig-file\"\u003e6. Create or Edit \u003ccode\u003e.wslconfig\u003c/code\u003e File\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#6-create-or-edit-wslconfig-file\"\u003e\u003c/a\u003e\u003c/h3\u003e\n\u003cp\u003eCreate or edit the \u003ccode\u003e.wslconfig\u003c/code\u003e file in the \u003ccode\u003e%UserProfile%\u003c/code\u003e directory with the \u003ccode\u003enetworkingMode=mirrored\u003c/code\u003e setting.\u003c/p\u003e\n\u003ch4 id=\"powershell-script-to-createedit-wslconfig\"\u003ePowerShell Script to Create/Edit \u003ccode\u003e.wslconfig\u003c/code\u003e\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#powershell-script-to-createedit-wslconfig\"\u003e\u003c/a\u003e\u003c/h4\u003e\n\u003cpre class=\"language-powershell\"\u003e\u003ccode class=\"language-powershell\"\u003e\u003cspan class=\"token comment\"\u003e# Define the path to the .wslconfig file in the User Profile directory\u003c/span\u003e\n\u003cspan class=\"token variable\"\u003e$wslConfigPath\u003c/span\u003e = \u003cspan class=\"token string\"\u003e\"\u003cspan class=\"token variable\"\u003e$env\u003c/span\u003e:UserProfile\\.wslconfig\"\u003c/span\u003e\n\n\u003cspan class=\"token comment\"\u003e# Content to be added to the .wslconfig file\u003c/span\u003e\n\u003cspan class=\"token variable\"\u003e$newContent\u003c/span\u003e = \u003cspan class=\"token string\"\u003e\"networkingMode=mirrored\"\u003c/span\u003e\n\n\u003cspan class=\"token comment\"\u003e# Check if the .wslconfig file exists\u003c/span\u003e\n\u003cspan class=\"token keyword\"\u003eif\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token function\"\u003eTest-Path\u003c/span\u003e \u003cspan class=\"token variable\"\u003e$wslConfigPath\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"token comment\"\u003e# Read the content of the .wslconfig file\u003c/span\u003e\n    \u003cspan class=\"token variable\"\u003e$content\u003c/span\u003e = \u003cspan class=\"token function\"\u003eGet-Content\u003c/span\u003e \u003cspan class=\"token variable\"\u003e$wslConfigPath\u003c/span\u003e\n\n    \u003cspan class=\"token comment\"\u003e# Check if the [wsl2] section exists\u003c/span\u003e\n    \u003cspan class=\"token keyword\"\u003eif\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token variable\"\u003e$content\u003c/span\u003e \u003cspan class=\"token operator\"\u003e-match\u003c/span\u003e \u003cspan class=\"token string\"\u003e'\\[wsl2\\]'\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"token comment\"\u003e# If the [wsl2] section exists, add the new setting below it\u003c/span\u003e\n        \u003cspan class=\"token function\"\u003eAdd-Content\u003c/span\u003e \u003cspan class=\"token operator\"\u003e-\u003c/span\u003ePath \u003cspan class=\"token variable\"\u003e$wslConfigPath\u003c/span\u003e \u003cspan class=\"token operator\"\u003e-\u003c/span\u003eValue \u003cspan class=\"token variable\"\u003e$newContent\u003c/span\u003e\n    \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e \u003cspan class=\"token keyword\"\u003eelse\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"token comment\"\u003e# If the [wsl2] section does not exist, add the entire [wsl2] section and the new setting\u003c/span\u003e\n        \u003cspan class=\"token function\"\u003eAdd-Content\u003c/span\u003e \u003cspan class=\"token operator\"\u003e-\u003c/span\u003ePath \u003cspan class=\"token variable\"\u003e$wslConfigPath\u003c/span\u003e \u003cspan class=\"token operator\"\u003e-\u003c/span\u003eValue \u003cspan class=\"token string\"\u003e\"[wsl2]`n\u003cspan class=\"token variable\"\u003e$newContent\u003c/span\u003e\"\u003c/span\u003e\n    \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e \u003cspan class=\"token keyword\"\u003eelse\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"token comment\"\u003e# If the file does not exist, create a new file with the entire [wsl2] section and the setting\u003c/span\u003e\n    \u003cspan class=\"token function\"\u003eSet-Content\u003c/span\u003e \u003cspan class=\"token operator\"\u003e-\u003c/span\u003ePath \u003cspan class=\"token variable\"\u003e$wslConfigPath\u003c/span\u003e \u003cspan class=\"token operator\"\u003e-\u003c/span\u003eValue \u003cspan class=\"token string\"\u003e\"[wsl2]`n\u003cspan class=\"token variable\"\u003e$newContent\u003c/span\u003e\"\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\n\u003cspan class=\"token function\"\u003eWrite-Output\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"Setting has been added to \u003cspan class=\"token variable\"\u003e$wslConfigPath\u003c/span\u003e:\"\u003c/span\u003e\n\u003cspan class=\"token function\"\u003eGet-Content\u003c/span\u003e \u003cspan class=\"token variable\"\u003e$wslConfigPath\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch3 id=\"7-restart-services-in-windows-and-wsl\"\u003e7. Restart Services in Windows and WSL\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#7-restart-services-in-windows-and-wsl\"\u003e\u003c/a\u003e\u003c/h3\u003e\n\u003cp\u003eRestart the services running in Windows and the WSL distribution:\u003c/p\u003e\n\u003cpre class=\"language-powershell\"\u003e\u003ccode class=\"language-powershell\"\u003ewsl \u003cspan class=\"token operator\"\u003e--\u003c/span\u003eshutdown\nwsl\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch3 id=\"8-use-localhost-in-wsl\"\u003e8. Use \u003ccode\u003elocalhost\u003c/code\u003e in WSL\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#8-use-localhost-in-wsl\"\u003e\u003c/a\u003e\u003c/h3\u003e\n\u003cp\u003eTry accessing \u003ccode\u003elocalhost\u003c/code\u003e directly from WSL:\u003c/p\u003e\n\u003cpre class=\"language-bash\"\u003e\u003ccode class=\"language-bash\"\u003e\u003cspan class=\"token function\"\u003ecurl\u003c/span\u003e http://localhost:1234\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eBy following these steps, you should be able to resolve the connection issue from WSL to Windows and get the desired response.\u003c/p\u003e\n\u003cp\u003eI hope these notes are helpful! If you have any further questions or need additional assistance, feel free to ask.\u003c/p\u003e\n\u003chr\u003e\n\u003ch2 id=\"tags\"\u003eTags\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#tags\"\u003e\u003c/a\u003e\u003c/h2\u003e\n\u003col\u003e\n\u003cli\u003e\u003ca class=\"color-tag\" style=\"--tag-color: #ba6873;\" href=\"/sotoy/notes/dkqx8ibgpx6udhieo5qvqot\"\u003ewsl2\u003c/a\u003e\u003c/li\u003e\n\u003c/ol\u003e","noteIndex":{"id":"oqxmejlafk9x8rj9t5hya5z","title":"Hi 👋","desc":"","updated":1721116613997,"created":1646842475821,"custom":{"nav_order":0,"permalink":"/"},"fname":"root","type":"note","vault":{"fsPath":"vault"},"contentHash":"64c62caa2f0c02c2d68a5a2d826cc01e","links":[],"anchors":{"welcome-to-sotoy":{"type":"header","text":"Welcome to Sotoy","value":"welcome-to-sotoy","line":8,"column":0,"depth":1},"lookup":{"type":"header","text":"Lookup","value":"lookup","line":12,"column":0,"depth":2}},"children":["spfwom01chbihki1twghclf","bsv930j2j6qlih60c7eu7wh","ohf85tu5nw2b8ewx6cetsmp","u3lhhpriar8wgcjw8svapha","tvdcga33h6hi7fxd9cwqd66"],"parent":null,"data":{},"body":"\n# Welcome to Sotoy\n\nThis is the root of your dendron vault. If you decide to publish your entire vault, this will be your landing page. You are free to customize any part of this page except the frontmatter on top.\n\n## Lookup\n\nThis section contains useful links to related resources.\n\n- [Getting Started Guide](https://link.dendron.so/6b25)\n- [Discord](https://link.dendron.so/6b23)\n- [Home Page](https://wiki.dendron.so/)\n- [Github](https://link.dendron.so/6b24)\n- [Developer Docs](https://docs.dendron.so/)\n"},"collectionChildren":null,"customHeadContent":null,"config":{"version":5,"dev":{"enablePreviewV2":true},"commands":{"lookup":{"note":{"selectionMode":"extract","confirmVaultOnCreate":true,"vaultSelectionModeOnCreate":"smart","leaveTrace":false,"bubbleUpCreateNew":true,"fuzzThreshold":0.2}},"randomNote":{},"insertNoteLink":{"aliasMode":"none","enableMultiSelect":false},"insertNoteIndex":{"enableMarker":false},"copyNoteLink":{"aliasMode":"title"},"templateHierarchy":"template"},"workspace":{"dendronVersion":"0.83.0","vaults":[{"fsPath":"vault"}],"journal":{"dailyDomain":"daily","name":"journal","dateFormat":"y.MM.dd","addBehavior":"childOfDomain"},"scratch":{"name":"scratch","dateFormat":"y.MM.dd.HHmmss","addBehavior":"asOwnDomain"},"task":{"name":"","dateFormat":"","addBehavior":"childOfCurrent","statusSymbols":{"":" ","wip":"w","done":"x","assigned":"a","moved":"m","blocked":"b","delegated":"l","dropped":"d","pending":"y"},"prioritySymbols":{"H":"high","M":"medium","L":"low"},"todoIntegration":false,"createTaskSelectionType":"selection2link","taskCompleteStatus":["done","x"]},"graph":{"zoomSpeed":1,"createStub":false},"enableAutoCreateOnDefinition":false,"enableXVaultWikiLink":false,"enableRemoteVaultInit":true,"enableUserTags":true,"enableHashTags":true,"workspaceVaultSyncMode":"noCommit","enableAutoFoldFrontmatter":false,"enableEditorDecorations":true,"maxPreviewsCached":10,"maxNoteLength":204800,"seeds":{"dendron.templates":{}},"enableFullHierarchyNoteTitle":false},"preview":{"enableFMTitle":true,"enableNoteTitleForLink":true,"enableFrontmatterTags":true,"enableHashesForFMTags":false,"enablePrettyRefs":true,"enableKatex":true,"automaticallyShowPreview":false},"publishing":{"enableFMTitle":true,"enableNoteTitleForLink":true,"enablePrettyRefs":true,"enableKatex":true,"copyAssets":true,"siteHierarchies":["root"],"writeStubs":true,"siteRootDir":"docs","seo":{"title":"Sotoy","description":"Personal knowledge space about anything I learn. Notes, knowledge, and ideas from me.","author":"Zeihan Aulia","twitter":"zeihanaulia","image":{"url":"https://pbs.twimg.com/profile_images/502375255256485888/1UYtt7PT_400x400.jpeg","alt":"Software Engineer, "}},"github":{"enableEditLink":true,"editLinkText":"Edit this page on GitHub","editBranch":"main","editViewMode":"tree"},"enableSiteLastModified":true,"enableFrontmatterTags":true,"enableHashesForFMTags":false,"enableRandomlyColoredTags":true,"enableTaskNotes":true,"enablePrettyLinks":true,"searchMode":"lookup","assetsPrefix":"/sotoy","siteUrl":"https://zeihanaulia.github.io","duplicateNoteBehavior":{"action":"useVault","payload":["vault-private","vault","dendron.templates"]},"siteFaviconPath":"favicon.ico","siteIndex":"root"}}},"__N_SSG":true},"page":"/notes/[id]","query":{"id":"w4ptpcefqr98mej5hjhs3m9"},"buildId":"syq9_1iDT-nYVNf2f1cTG","assetPrefix":"/sotoy","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>